# CNP 아카데미 - 멤버십 서비스

## 📚 프로젝트 개요

CNP 아카데미는 실무자를 위한 건축구조 특화 교육 플랫폼입니다. 2026년부터 혁신적인 멤버십 제도를 도입하여 개인회원과 사업자회원 모두 좌석 단위로 교육을 구매할 수 있으며, 1년간 모든 교육에 자유롭게 참여할 수 있는 시스템을 제공합니다.

### 🎯 주요 목표

- **비용 효율적인 교육 제공**: 멤버십으로 1년간 모든 교육을 좌석당 100만원에 제공
- **유연한 회원 유형**: 개인회원과 사업자회원 모두 멤버십 가입 가능
- **체계적인 교육 관리**: 온라인 출석 체크 및 실시간 교육 현황 확인
- **전문성 강화**: 초급부터 중급, 안전교육까지 체계적인 커리큘럼 제공

## 👥 회원 유형

### 개인 회원
- **일반 회원**: 교육과정별 개별 등록 (필요한 과정만 수강)
- **멤버십 회원**: 좌석 단위로 구매 (기본 1좌석, 추가 구매 가능)
  - 좌석당 100만원으로 1년간 모든 교육 수강
  - 추가 좌석 구매 시 지인과 함께 수강 가능
  - 58만원 절약

### 사업자 회원
- **일반 회원**: 교육과정별 개별 등록 (필요한 과정만 수강)
- **멤버십 회원**: 좌석 단위로 구매 (필요한 인원 수만큼 구매)
  - 좌석당 100만원으로 1년간 모든 교육 수강
  - 회사 소속 직원이 좌석 수만큼 자유롭게 참여 가능
  - 예: 5좌석 구매 시 → 5명의 직원이 동시에 또는 교육별로 다르게 참여
  - 좌석당 58만원 절약

## 💰 멤버십 vs 개별 수강 비교

### 개별 수강 (총 158만원)
- 건축구조 초급교육 (7주): 50만원
- 건축구조 중급교육 (8주): 60만원
- 건설안전강화 교육 (연 4회): 48만원
- **총합: 1,580,000원**

### 멤버십 서비스 (좌석당 100만원/년)
- 건축구조 초급교육 포함
- 건축구조 중급교육 포함
- 건설안전강화 교육 포함
- **1년 멤버십: 1,000,000원/좌석**
- **절감 금액: 580,000원!**

## 🎓 교육 과정

### 1. 건축구조 초급교육 (상반기)
- **기간**: 2026년 3월 6일 ~ 4월 24일 (7주)
- **시간**: 매주 목요일 18:00-21:00
- **교육시간**: 총 21시간
- **대상**: 건축구조에 관심있는 건설기술인, 초급기술자, 감리자, 시공자, 건축사
- **커리큘럼**:
  - 건축구조의 이해를 위한 기본지식 및 구조역학 (6시간)
  - 철근콘크리트구조설계 (6시간)
  - 철골구조설계 및 시공시 유의사항 (6시간)
  - 설계하중의 이해: 풍하중, 지진하중 (3시간)

### 2. 건축구조 중급교육 (하반기)
- **기간**: 2026년 9월 ~ 10월 (8주)
- **시간**: 매주 목요일 18:00-21:00
- **교육시간**: 총 24시간
- **대상**: 건설기술인, 구조 엔지니어 (중급 기술자)
- **커리큘럼**:
  - 철근콘크리트 구조설계 심화
  - 철골 구조설계 심화
  - 구조설계 심화: 성능기반설계, 철골안정론 등

### 3. 건설 안전 강화 교육 (연중)
- **기간**: 2026년 연 4회 실시 (분기별)
- **대상**: 건설기술인, 현장 안전 관리자
- **커리큘럼**:
  - 건설 안전 법규 및 기준
  - 현장 안전 관리 실무
  - 사고 사례 분석 및 예방 대책

## 🚀 주요 기능

### ✅ 완료된 기능

#### 1. 회원 관리 (2단계 회원가입 프로세스)
- ✅ **1단계**: 회원 유형 선택 (개인 회원 / 사업자 회원)
- ✅ **2단계**: 정보 입력 + 멤버십 선택 (체크박스)
- ✅ 개인 회원: 일반 / 멤버십 선택 가능
  - 멤버십 선택 시 좌석 수 입력 (기본 1좌석, 추가 구매 가능)
  - 실시간 가격 계산기 (좌석 수 × 1,000,000원)
  - 절약 금액 표시 (좌석당 580,000원)
  - **멤버십 가입 시 모든 교육과정 자동 등록** 🆕
- ✅ 사업자 회원: 일반 / 멤버십 선택 가능
  - 멤버십 선택 시 좌석 수 입력 (예상 참여 인원 수)
  - 실시간 가격 계산기 (좌석 수 × 1,000,000원)
  - 절약 금액 표시 (좌석당 580,000원)
  - 회사 소속 직원 좌석 수만큼 자유롭게 참여 안내
  - **멤버십 가입 시 모든 교육과정 자동 등록** 🆕
- ✅ 사용자 인증 시스템
- ✅ 로그인 세션 관리

#### 2. 멤버십 서비스
- ✅ 멤버십 vs 개별 수강 비교 페이지
- ✅ 좌석 단위 멤버십 등록 (개인/사업자 모두 가능)
- ✅ 멤버십 정보 대시보드
- ✅ 멤버십 상태 관리 (활성/만료/정지)
- ✅ 실시간 가격 계산기 (좌석 수 × 100만원)
- ✅ **멤버십 가입 시 모든 교육과정 자동 등록** 🆕
  - 건축구조 초급교육
  - 건축구조 중급교육
  - 건설안전강화 교육 (4개 과정)
  - 자동으로 수강 신청 완료 상태

#### 3. 교육 과정 관리
- ✅ 전체 교육 과정 안내 페이지
- ✅ 과정별 상세 정보 (커리큘럼, 일정, 수강료)
- ✅ 수강 신청 기능
- ✅ 내 수강 과정 조회

#### 4. 출석 관리
- ✅ 온라인 출석 체크 기능
- ✅ 출석 기록 조회
- ✅ 회차별 출석 현황 확인

#### 5. 비용 납부 시스템 (장바구니 방식 🆕)
- ✅ **장바구니 기능**
  - 수강 신청한 모든 과정을 한눈에 확인
  - 원하는 과정만 선택하여 결제
  - 전체 선택 / 개별 선택 기능
  - 실시간 금액 계산
- ✅ **3가지 결제 수단**
  - 계좌이체 (무통장 입금)
    - 계좌번호 복사 기능
    - 입금자명 자동 표시
  - 세금계산서 발급 (사업자 전용)
    - 사업자 정보 입력 폼
    - **사업자등록증 업로드 기능** 🆕
    - 드래그 앤 드롭 지원
    - 파일 형식: JPG, PNG, PDF (최대 5MB)
    - 이메일 자동 발송
  - 현금영수증 발급 (개인 전용) 🆕
    - 발급 유형 선택 (휴대폰번호/카드/주민등록번호)
    - 국세청 자동 발급
    - SMS 발급 완료 안내
- ✅ 입금 확인 요청 기능
- ✅ 결제 내역 저장 (payments 테이블)

#### 6. 대시보드
- ✅ 사용자 정보 표시
- ✅ 멤버십 현황 (멤버십 회원)
- ✅ 수강 중인 과정 목록
- ✅ 비용 납부 버튼
- ✅ 출석 기록 테이블
- ✅ 관리자 메뉴 표시 (관리자만)

#### 7. 관리자 대시보드 (NEW! 🆕)
- ✅ **관리자 권한 체크** (특정 이메일만 접근 가능)
  - admin@cnpgroup.co.kr
  - iworks@cnpgroup.co.kr
  - snkim@cnpgroup.co.kr
  - jmkim@cnpgroup.co.kr
  - admin@cnp.co.kr
  - 또는 이메일에 'admin' 포함
- ✅ **전체 회원 통계 카드**
  - 전체 회원 수
  - 개인 회원 / 사업자 회원 수
  - 멤버십 회원 수
  - 총 좌석 수
  - 예상 매출 (멤버십 기준)
- ✅ **회원 목록 테이블** (스프레드시트 형식)
  - 가입일, 이름, 이메일, 전화번호
  - 회원 유형 (개인/사업자), 멤버십 유형
  - 회사명, 좌석 수, 사업자번호, 대표자명
- ✅ **필터링 및 검색 기능**
  - 회원 유형별 필터 (개인/사업자)
  - 멤버십 유형별 필터 (멤버십/일반)
  - 키워드 검색 (이름, 이메일, 회사명, 전화번호)
- ✅ **페이지네이션** (페이지당 20명)
- ✅ **CSV 내보내기 기능**
  - UTF-8 BOM 포함 (엑셀 호환)
  - 필터링된 데이터 내보내기
  - 파일명: `CNP아카데미_회원목록_YYYY-MM-DD.csv`

## 🗂️ 프로젝트 구조

```
cnp-academy/
├── index.html              # 메인 페이지 (멤버십 소개)
├── login.html              # 로그인 페이지
├── register.html           # 회원가입 페이지 (2단계: 회원 유형 선택 → 정보 입력)
├── courses.html            # 교육 과정 안내
├── dashboard.html          # 사용자 대시보드
├── payment.html            # 비용 납부 페이지 (장바구니 방식) 🆕
├── admin.html              # 관리자 대시보드
├── css/
│   └── style.css          # 메인 스타일시트
├── js/
│   ├── main.js            # 공통 기능
│   ├── auth.js            # 인증 관련 기능
│   ├── register.js        # 회원가입 페이지 로직
│   ├── courses.js         # 교육 과정 기능
│   ├── dashboard.js       # 대시보드 기능
│   ├── payment-cart.js    # 장바구니 비용 납부 기능 🆕
│   └── admin.js           # 관리자 대시보드 기능
└── README.md              # 프로젝트 문서
```

## 💾 데이터 구조

### 테이블 스키마

#### 1. users (사용자)
- `id`: 사용자 ID (UUID)
- `email`: 이메일 (로그인 ID)
- `password`: 비밀번호 (해시)
- `name`: 사용자 이름
- `company`: 소속 회사
- `phone`: 전화번호
- `user_type`: 사용자 유형 (individual: 개인, company: 사업자)
- `membership_type`: 멤버십 유형 (none: 일반, membership: 멤버십)
- `membership_id`: 연결된 멤버십 ID
- `business_number`: 사업자등록번호 (사업자 회원)
- `ceo_name`: 대표자명 (사업자 회원)

#### 2. memberships (멤버쉽)
- `id`: 멤버쉽 ID
- `company_name`: 회사명
- `admin_user_id`: 관리자 사용자 ID
- `seats_purchased`: 구매한 좌석 수
- `start_date`: 멤버쉽 시작일
- `end_date`: 멤버쉽 종료일
- `status`: 멤버쉽 상태 (active/expired/suspended)
- `total_amount`: 총 결제 금액

#### 3. courses (교육 과정)
- `id`: 과정 ID
- `title`: 과정명
- `category`: 카테고리 (beginner/intermediate/safety)
- `duration_weeks`: 교육 기간 (주)
- `price`: 개별 수강료
- `schedule`: 교육 일정 정보
- `description`: 과정 설명
- `target_audience`: 교육 대상
- `curriculum`: 커리큘럼

#### 4. enrollments (수강 신청)
- `id`: 수강 신청 ID
- `user_id`: 사용자 ID
- `course_id`: 과정 ID
- `enrollment_type`: 등록 유형 (individual/membership)
- `membership_id`: 멤버쉽 ID (멤버쉽 등록 시)
- `enrollment_date`: 수강 신청일
- `status`: 수강 상태 (enrolled/completed/dropped)

#### 5. attendance (출석)
- `id`: 출석 ID
- `enrollment_id`: 수강 신청 ID
- `user_id`: 사용자 ID
- `course_id`: 과정 ID
- `session_date`: 수업 일자
- `session_number`: 회차
- `attended`: 출석 여부
- `check_in_time`: 체크인 시간

#### 6. payments (결제) 🆕
- `id`: 결제 ID (UUID)
- `user_id`: 사용자 ID
- `enrollment_ids`: 수강 신청 ID 목록 (쉼표로 구분)
- `payment_method`: 결제 수단 (bank/tax/receipt)
- `total_amount`: 총 결제 금액
- `status`: 결제 상태 (pending/confirmed/cancelled)
- `payment_date`: 결제 요청일
- `confirmed_date`: 결제 확인일
- `payment_info`: 결제 상세 정보 (JSON)

## 🔗 주요 URI 및 기능

### 공개 페이지
- `/index.html` - 메인 페이지 (멤버십 소개, 혜택 비교)
- `/courses.html` - 교육 과정 안내
- `/login.html` - 로그인
- `/register.html` - 회원가입 (2단계 프로세스)
  - **1단계**: 회원 유형 선택 (개인 회원 / 사업자 회원)
  - **2단계**: 정보 입력 + 멤버십 선택 (체크박스)
    - **개인 회원 폼**: 이름, 이메일, 비밀번호, 전화번호, 소속 회사(선택), **멤버십 체크박스**
      - 멤버십 체크 시: 좌석 수 입력 (기본 1좌석) + 실시간 가격 계산기 + 절약 금액 표시
      - 안내: "개인 멤버십으로 1년간 모든 교육을 무제한 수강, 추가 좌석 구매 시 지인과 함께 참여 가능"
    - **사업자 회원 폼**: 사업자등록번호, 회사명, 대표자명, 담당자명, 이메일, 비밀번호, 전화번호, **멤버십 체크박스**
      - 멤버십 체크 시: 좌석 수 입력 (예상 인원 수) + 실시간 가격 계산기 + 절약 금액 표시
      - 안내: "구매한 좌석 수만큼 회사 소속 직원들이 자유롭게 교육에 참여 가능 (예: 5좌석 → 5명 참여)"

### 인증 필요 페이지
- `/dashboard.html` - 사용자 대시보드
  - 내 정보 조회
  - 멤버십 현황 (멤버십 회원)
  - 수강 과정 목록
  - **장바구니 버튼** (비용 납부)
  - 출석 기록 조회
  - 출석 체크 기능

- `/payment.html` - 비용 납부 페이지 (장바구니 방식) 🆕
  - **장바구니 기능**
    - 수강 신청한 모든 과정 표시
    - 개별 선택 / 전체 선택
    - 실시간 금액 계산
  - **결제 수단 선택**
    - 계좌이체: 우리은행 1005-123-456789 (계좌번호 복사)
    - 세금계산서: 사업자 정보 입력 + **사업자등록증 업로드** (JPG/PNG/PDF, 최대 5MB)
    - 현금영수증: 발급 유형 선택 (휴대폰/카드/주민등록번호)
  - **입금 확인 요청**
  - **결제 내역 저장** (payments 테이블)

### 관리자 페이지 (🆕 NEW!)
- `/admin.html` - 관리자 대시보드
  - **권한 체크**: admin@cnpgroup.co.kr, iworks@cnpgroup.co.kr, snkim@cnpgroup.co.kr, admin@cnp.co.kr 또는 이메일에 'admin' 포함
  - **통계 대시보드**
    - 전체/개인/사업자 회원 수
    - 멤버십 회원 수
    - 총 좌석 수
    - 예상 매출 (멤버십)
  - **회원 목록 테이블**
    - 전체 회원 정보 조회 (스프레드시트 형식)
    - 가입일, 이름, 이메일, 전화번호, 회원유형, 멤버십유형, 회사명, 좌석수, 사업자번호, 대표자명
  - **필터링 및 검색**
    - 회원 유형 필터 (개인/사업자)
    - 멤버십 유형 필터 (멤버십/일반)
    - 키워드 검색 (이름, 이메일, 회사명, 전화번호)
  - **CSV 내보내기**
    - 필터링된 데이터 CSV 다운로드
    - 엑셀 호환 (UTF-8 BOM)
  - **페이지네이션** (페이지당 20명)

## 🛠️ 사용 기술

### Frontend
- **HTML5**: 시맨틱 마크업
- **CSS3**: 반응형 디자인, Flexbox, Grid
- **JavaScript (ES6+)**: 동적 기능 구현
- **Font Awesome**: 아이콘
- **Google Fonts**: Noto Sans KR

### Backend
- **RESTful Table API**: 데이터 관리
  - GET `/tables/{table}` - 목록 조회
  - GET `/tables/{table}/{id}` - 단일 조회
  - POST `/tables/{table}` - 생성
  - PUT `/tables/{table}/{id}` - 전체 수정
  - PATCH `/tables/{table}/{id}` - 부분 수정
  - DELETE `/tables/{table}/{id}` - 삭제

### 데이터 저장
- **LocalStorage**: 사용자 세션 관리
- **Table API**: 영구 데이터 저장

## 📱 반응형 디자인

웹사이트는 다양한 디바이스에서 최적화되어 작동합니다:
- **Desktop**: 1200px 이상
- **Tablet**: 768px ~ 1199px
- **Mobile**: 767px 이하

모든 페이지는 모바일 우선 접근 방식으로 설계되었습니다.

## 🎨 디자인 특징

- **모던한 UI**: 깔끔하고 직관적인 인터페이스
- **그라디언트 컬러**: 파란색-보라색 그라디언트로 전문성 표현
- **카드 기반 레이아웃**: 정보를 명확하게 구분
- **시각적 피드백**: 호버 효과와 애니메이션
- **아이콘 활용**: Font Awesome으로 직관적인 UI

## 🔐 보안

- **비밀번호 해싱**: 간단한 클라이언트 해싱 (프로덕션에서는 서버 해싱 필요)
- **세션 관리**: LocalStorage를 통한 로그인 상태 유지
- **권한 확인**: 페이지 접근 시 인증 상태 확인

⚠️ **주의**: 현재 구현은 데모 목적입니다. 프로덕션 환경에서는 적절한 서버 측 인증과 암호화가 필요합니다.

## 📋 향후 개발 계획

### Phase 2 - 고급 기능
- [ ] 프로필 수정 기능
- [ ] 비밀번호 찾기/재설정
- [ ] 이메일 인증
- [ ] 멤버쉽 갱신 기능
- [ ] 결제 시스템 통합

### Phase 3 - 관리자 기능
- [ ] 관리자 대시보드
- [ ] 교육 과정 관리 (CRUD)
- [ ] 수강생 관리
- [ ] 출석 통계 및 리포트
- [ ] 멤버쉽 관리 기능

### Phase 4 - 추가 기능
- [ ] 교육 자료 다운로드
- [ ] 수료증 발급
- [ ] 강의 평가 시스템
- [ ] 알림 기능 (이메일/SMS)
- [ ] 모바일 앱 개발

## 🚀 시작하기

### 1. 프로젝트 파일 확인
모든 파일이 올바른 위치에 있는지 확인하세요.

### 2. 웹 서버 실행
프로젝트는 정적 웹사이트이므로 어떤 웹 서버에서도 실행 가능합니다.

### 3. 초기 데이터
교육 과정 데이터는 자동으로 생성됩니다:
- 건축구조 초급교육
- 건축구조 중급교육
- 건설 안전 강화 교육

### 4. 테스트 계정 생성
1. `/register.html`에서 회원가입
2. 개인 회원 또는 멤버쉽 중 선택
3. 로그인 후 대시보드 확인

## 📞 문의

- **이메일**: info@cnp-iworks.com
- **전화**: 02-1234-5678

## 📄 라이선스

Copyright © 2026 CNP 아이웍스 아카데미. All rights reserved.

---

## 🎯 멤버쉽 서비스의 핵심 가치

### 💡 기업에게
- **비용 절감**: 개별 수강 대비 36% 할인
- **유연한 운영**: 교육마다 다른 직원 배정 가능
- **직원 역량 강화**: 체계적인 교육으로 전문성 향상
- **통합 관리**: 온라인으로 쉽게 관리

### 👥 직원에게
- **다양한 교육**: 초급부터 중급, 안전까지
- **전문 강사진**: 실무 경험 풍부한 전문가
- **실무 중심**: 바로 적용 가능한 내용
- **네트워킹**: 동료 전문가들과의 교류

---

**CNP 아이웍스 아카데미**와 함께 안전하고 전문적인 건설 문화를 만들어가세요! 🏗️